title: Vue3çš„åˆæ­¥ä½¿ç”¨(äºŒ)
author: coolsong
tags:
  - Vue
  - Composition API
categories:
  - Vue
  - Composition API
date: 2020-09-22 14:32:00
---
<section id="nice" data-tool="mdniceç¼–è¾‘å™¨" data-website="https://www.mdnice.com" style="font-size: 16px; padding: 0 10px; word-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; line-height: 1.25; color: #2b2b2b; font-family: Optima-Regular, Optima, PingFangTC-Light, PingFangSC-light, PingFangTC-light; letter-spacing: 2px; background-image: linear-gradient(90deg, rgba(50, 0, 0, 0.04) 3%, rgba(0, 0, 0, 0) 3%), linear-gradient(360deg, rgba(50, 0, 0, 0.04) 3%, rgba(0, 0, 0, 0) 3%); background-size: 20px 20px; background-position: center center;"><p data-tool="mdniceç¼–è¾‘å™¨" style="padding-top: 8px; padding-bottom: 8px; line-height: 26px; color: #2b2b2b; margin: 10px 0px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px;">è¿˜æ˜¯å’Œä¸Šä¸€ç¯‡ä¸€æ ·ï¼Œç»§ç»­æ¥ä»‹ç»Vue3ä¸­ä¸€äº›æ–°çš„ç‰¹æ€§ä»¥åŠå…¶å¦‚ä½•ä½¿ç”¨ã€‚</p>
<!--more-->
<blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; font-weight: 400; border-radius: 6px; color: #595959; font-style: normal; text-align: left; box-sizing: inherit; border-left: none; border: 1px solid RGBA(64, 184, 250, .4); background: RGBA(64, 184, 250, .1);"><span style="color: RGBA(64, 184, 250, .5); font-size: 34px; line-height: 1; font-weight: 700;">â</span>
<p style="padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin: 0px; line-height: 26px; color: #595959;">tips: å‰å‡ å¤©Vue å®˜æ–¹å›¢é˜Ÿå‘å¸ƒäº†Vue3.0ç‰ˆæœ¬ ğŸ‰ã€‚ä»£å·ä¸ºOne Pieceã€‚
<a href="https://github.com/vuejs/vue-next/releases/tag/v3.0.0" style="text-decoration: none; word-wrap: break-word; color: #40B8FA; font-weight: normal; border-bottom: 1px solid #3BAAFA;">releases docs</a></p>
<span style="float: right; color: RGBA(64, 184, 250, .5);">â</span></blockquote>
<h4 data-tool="mdniceç¼–è¾‘å™¨" id="computedçš„ä½¿ç”¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 18px;"><span class="prefix" style="display: none;"></span><span class="content" style="height: 16px; line-height: 16px; font-size: 16px;"><span style="background-image: url(https://my-wechat.mdnice.com/fullstack-3.png); display: inline-block; width: 16px; height: 16px; background-size: 100%; background-position: left bottom; background-repeat: no-repeat; width: 16px; height: 15px; line-height: 15px; margin-right: 6px; margin-bottom: -2px;"></span><a href="#computedçš„ä½¿ç”¨" class="headerlink" title="computedçš„ä½¿ç”¨"></a>computedçš„ä½¿ç”¨</span><span class="suffix" style="display: none;"></span></h4>
<blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; font-weight: 400; border-radius: 6px; color: #595959; font-style: normal; text-align: left; box-sizing: inherit; border-left: none; border: 1px solid RGBA(64, 184, 250, .4); background: RGBA(64, 184, 250, .1);"><span style="color: RGBA(64, 184, 250, .5); font-size: 34px; line-height: 1; font-weight: 700;">â</span>
<p style="padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin: 0px; line-height: 26px; color: #595959;">è®¡ç®—å±æ€§ä¸€èˆ¬æ˜¯å½“æˆ‘ä»¬æœ‰å¤æ‚è®¡ç®—ä¸”éœ€è¦ç¼“å­˜å€¼å¾—æ—¶å€™æ¥ä½¿ç”¨ã€‚Vue3ä¸­çš„ä½¿ç”¨å’Œä¹‹å‰çš„å¹¶æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ã€‚</p>
<span style="float: right; color: RGBA(64, 184, 250, .5);">â</span></blockquote>
<ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; font-size: 15px; color: #595959; list-style-type: circle;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">ä¸€ä¸ªä¾‹å­</section></li></ul>
<pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px;">&lt;script&gt;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;{&nbsp;computed,&nbsp;reactive,&nbsp;ref,&nbsp;watch&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'vue'</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;{&nbsp;Button,&nbsp;Input&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'ant-design-vue'</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">export</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">default</span>&nbsp;{<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">components</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[Button.name]:&nbsp;Button,<br>&nbsp;&nbsp;&nbsp;&nbsp;[Input.name]:&nbsp;Input,<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;setup()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;state&nbsp;=&nbsp;reactive({<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">name</span>:&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'å­å›'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;age&nbsp;=&nbsp;ref(<span class="hljs-number" style="color: #986801; line-height: 26px;">0</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;changeName&nbsp;=&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state.name&nbsp;=&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'hello,&nbsp;world'</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;};<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;changeAge&nbsp;=&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;age.value++;<br>&nbsp;&nbsp;&nbsp;&nbsp;};<br>&nbsp;&nbsp;&nbsp;&nbsp;watch(age,&nbsp;(newValue,&nbsp;oldValue)&nbsp;=&gt;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">console</span>.log(newValue,&nbsp;oldValue);<br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;msg&nbsp;=&nbsp;computed(<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;state.name&nbsp;+&nbsp;age.value;<br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;obj&nbsp;=&nbsp;{};<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;state1&nbsp;=&nbsp;reactive(obj);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è¾“å‡ºfalse</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">console</span>.log(obj&nbsp;===&nbsp;state1);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changeName,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;age,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changeAge,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg,<br>&nbsp;&nbsp;&nbsp;&nbsp;};<br>&nbsp;&nbsp;},<br>};<br><span class="xml" style="line-height: 26px;"><span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">script</span>&gt;</span></span><br></code></pre>
<figure data-tool="mdniceç¼–è¾‘å™¨" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="/images/usevue32.gif" alt="Image" style="max-width: 100%; border-radius: 6px; display: block; margin: 20px auto; object-fit: contain; box-shadow: 2px 4px 7px #999;"><figcaption style="margin-top: 5px; text-align: center; display: block; font-size: 13px; color: #2b2b2b;"><span style="background-image: url(https://img.alicdn.com/tfs/TB1Yycwyrj1gK0jSZFuXXcrHpXa-32-32.png); display: inline-block; width: 18px; height: 18px; background-size: 18px; background-repeat: no-repeat; background-position: center; margin-right: 5px; margin-bottom: -5px;"></span>Image</figcaption></figure>
<blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; font-weight: 400; border-radius: 6px; color: #595959; font-style: normal; text-align: left; box-sizing: inherit; border-left: none; border: 1px solid RGBA(64, 184, 250, .4); background: RGBA(64, 184, 250, .1);"><span style="color: RGBA(64, 184, 250, .5); font-size: 34px; line-height: 1; font-weight: 700;">â</span>
<p style="padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin: 0px; line-height: 26px; color: #595959;">å½“æˆ‘ä»¬ç›´æ¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°å³é»˜è®¤è®¾ç½®çš„getterå‡½æ•°ï¼Œå¦‚æœè¦è®¾ç½®setterçš„è¯å°±éœ€è¦ä¼ ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·çš„è¯åˆ›å»ºçš„å°±æ˜¯ä¸€ä¸ªå¯æ‰‹åŠ¨ä¿®æ”¹çš„è®¡ç®—çŠ¶æ€ã€‚demoå¦‚ä¸‹ï¼š</p>
<span style="float: right; color: RGBA(64, 184, 250, .5);">â</span></blockquote>
<pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;count&nbsp;=&nbsp;ref(<span class="hljs-number" style="color: #986801; line-height: 26px;">1</span>)<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;plusOne&nbsp;=&nbsp;computed({<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">get</span>:&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;count.value&nbsp;+&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">1</span>,<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">set</span>:&nbsp;<span class="hljs-function" style="line-height: 26px;">(<span class="hljs-params" style="line-height: 26px;">val</span>)&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;count.value&nbsp;=&nbsp;val&nbsp;-&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">1</span><br>&nbsp;&nbsp;},})<br>plusOne.value&nbsp;=&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">1</span><br><span class="hljs-built_in" style="color: #c18401; line-height: 26px;">console</span>.log(count.value)&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;0</span><br></code></pre>
<h4 data-tool="mdniceç¼–è¾‘å™¨" id="readonly" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 18px;"><span class="prefix" style="display: none;"></span><span class="content" style="height: 16px; line-height: 16px; font-size: 16px;"><span style="background-image: url(https://my-wechat.mdnice.com/fullstack-3.png); display: inline-block; width: 16px; height: 16px; background-size: 100%; background-position: left bottom; background-repeat: no-repeat; width: 16px; height: 15px; line-height: 15px; margin-right: 6px; margin-bottom: -2px;"></span><a href="#readonly" class="headerlink" title="readonly"></a>readonly</span><span class="suffix" style="display: none;"></span></h4>
<blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; font-weight: 400; border-radius: 6px; color: #595959; font-style: normal; text-align: left; box-sizing: inherit; border-left: none; border: 1px solid RGBA(64, 184, 250, .4); background: RGBA(64, 184, 250, .1);"><span style="color: RGBA(64, 184, 250, .5); font-size: 34px; line-height: 1; font-weight: 700;">â</span>
<p style="padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin: 0px; line-height: 26px; color: #595959;">ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼ˆå“åº”å¼æˆ–æ™®é€šï¼‰æˆ– refï¼Œè¿”å›ä¸€ä¸ªåŸå§‹å¯¹è±¡çš„åªè¯»ä»£ç†ã€‚ä¸€ä¸ªåªè¯»çš„ä»£ç†æ˜¯â€œæ·±å±‚çš„â€ï¼Œå¯¹è±¡å†…éƒ¨ä»»ä½•åµŒå¥—çš„å±æ€§ä¹Ÿéƒ½æ˜¯åªè¯»çš„ã€‚</p>
<span style="float: right; color: RGBA(64, 184, 250, .5);">â</span></blockquote>
<ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; font-size: 15px; color: #595959; list-style-type: circle;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">ä¸€ä¸ªä¾‹å­</section></li></ul>
<pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;original&nbsp;=&nbsp;reactive({&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">count</span>:&nbsp;<span class="hljs-number" style="color: #986801; line-height: 26px;">0</span>&nbsp;})<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;copy&nbsp;=&nbsp;readonly(original)<br><br>watchEffect(<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;ä¾èµ–è¿½è¸ª</span><br>&nbsp;&nbsp;<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">console</span>.log(copy.count)<br>})<br><br><span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;original&nbsp;ä¸Šçš„ä¿®æ”¹ä¼šè§¦å‘&nbsp;copy&nbsp;ä¸Šçš„ä¾¦å¬</span><br>original.count++<br><br><span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;æ— æ³•ä¿®æ”¹&nbsp;copy&nbsp;å¹¶ä¼šè¢«è­¦å‘Š</span><br>copy.count++&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;warning!</span><br></code></pre>
<h4 data-tool="mdniceç¼–è¾‘å™¨" id="ä½¿ç”¨Vue-router" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 18px;"><span class="prefix" style="display: none;"></span><span class="content" style="height: 16px; line-height: 16px; font-size: 16px;"><span style="background-image: url(https://my-wechat.mdnice.com/fullstack-3.png); display: inline-block; width: 16px; height: 16px; background-size: 100%; background-position: left bottom; background-repeat: no-repeat; width: 16px; height: 15px; line-height: 15px; margin-right: 6px; margin-bottom: -2px;"></span><a href="#ä½¿ç”¨Vue-router" class="headerlink" title="ä½¿ç”¨Vue-router"></a>ä½¿ç”¨Vue-Router</span><span class="suffix" style="display: none;"></span></h4>
<h5 data-tool="mdniceç¼–è¾‘å™¨" id="routeråˆå§‹åŒ–" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content"><a href="#routeråˆå§‹åŒ–" class="headerlink" title="routeråˆå§‹åŒ–"></a>åˆå§‹åŒ–</span><span class="suffix" style="display: none;"></span></h5>
<blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; font-weight: 400; border-radius: 6px; color: #595959; font-style: normal; text-align: left; box-sizing: inherit; border-left: none; border: 1px solid RGBA(64, 184, 250, .4); background: RGBA(64, 184, 250, .1);"><span style="color: RGBA(64, 184, 250, .5); font-size: 34px; line-height: 1; font-weight: 700;">â</span>
<p style="padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin: 0px; line-height: 26px; color: #595959;">åœ¨2.0ä¸­æˆ‘ä»¬ä½¿ç”¨vue-routerï¼Œæ˜¯é€šè¿‡new VueRouterçš„æ–¹å¼å»åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œåœ¨3.0ä¸­åˆ›å»ºå®ä¾‹å‘ç”Ÿäº†ä¸€äº›å˜åŒ–ã€‚</p>
<span style="float: right; color: RGBA(64, 184, 250, .5);">â</span></blockquote>
<pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px;"><span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;router/index.ts</span><br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;{&nbsp;createRouter,&nbsp;createWebHashHistory,&nbsp;RouteRecordRaw&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'vue-router'</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;Home&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'../views/Home.vue'</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;routes:&nbsp;<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">Array</span>&lt;RouteRecordRaw&gt;&nbsp;=&nbsp;[<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">path</span>:&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'/'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">name</span>:&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'Home'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">component</span>:&nbsp;Home,<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">path</span>:&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'/about'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">name</span>:&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'About'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;route&nbsp;level&nbsp;code-splitting</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;this&nbsp;generates&nbsp;a&nbsp;separate&nbsp;chunk&nbsp;(about.[hash].js)&nbsp;for&nbsp;this&nbsp;route</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;which&nbsp;is&nbsp;lazy-loaded&nbsp;when&nbsp;the&nbsp;route&nbsp;is&nbsp;visited.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;component:&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>(<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">/*&nbsp;webpackChunkName:&nbsp;"about"&nbsp;*/</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'../views/About.vue'</span>),<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">path</span>:&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'/demo'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">name</span>:&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'demo'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;route&nbsp;level&nbsp;code-splitting</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;this&nbsp;generates&nbsp;a&nbsp;separate&nbsp;chunk&nbsp;(about.[hash].js)&nbsp;for&nbsp;this&nbsp;route</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;which&nbsp;is&nbsp;lazy-loaded&nbsp;when&nbsp;the&nbsp;route&nbsp;is&nbsp;visited.</span><br>&nbsp;&nbsp;&nbsp;&nbsp;component:&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>(<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">/*&nbsp;webpackChunkName:&nbsp;"about"&nbsp;*/</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'../views/demo.vue'</span>),<br>&nbsp;&nbsp;},<br>];<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;router&nbsp;=&nbsp;createRouter({<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">history</span>:&nbsp;createWebHashHistory(),<br>&nbsp;&nbsp;routes,<br>});<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">export</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">default</span>&nbsp;router;<br><br><span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;main.js</span><br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;{&nbsp;createApp&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"vue"</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;App&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"./App.vue"</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;router&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"./router"</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;store&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"./store"</span>;<br>createApp(App)<br>&nbsp;&nbsp;.use(store)<br>&nbsp;&nbsp;.use(router)<br>&nbsp;&nbsp;.mount(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"#app"</span>);<br></code></pre>
<h5 data-tool="mdniceç¼–è¾‘å™¨" id="rsetupä½¿ç”¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content"><a href="#rsetupä½¿ç”¨" class="headerlink" title="rsetupä½¿ç”¨"></a>setupä½¿ç”¨</span><span class="suffix" style="display: none;"></span></h5>
<blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; font-weight: 400; border-radius: 6px; color: #595959; font-style: normal; text-align: left; box-sizing: inherit; border-left: none; border: 1px solid RGBA(64, 184, 250, .4); background: RGBA(64, 184, 250, .1);"><span style="color: RGBA(64, 184, 250, .5); font-size: 34px; line-height: 1; font-weight: 700;">â</span>
<p style="padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin: 0px; line-height: 26px; color: #595959;">åŒæ ·çš„åœ¨setupä¸­ä½¿ç”¨å’Œä¹‹å‰<span class="span-inline-equation" style="cursor:pointer"><span class="inline-equation" role="presentation" data-formula="routeå’Œ" data-formula-type="inline-equation" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" role="img" focusable="false" viewbox="0 -750 3433.6 950" aria-hidden="true" style="vertical-align: -0.452ex; width: 7.768ex; height: 2.149ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="72" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(451, 0)"><path data-c="6F" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"/></g><g data-mml-node="mi" transform="translate(936, 0)"><path data-c="75" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"/></g><g data-mml-node="mi" transform="translate(1508, 0)"><path data-c="74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"/></g><g data-mml-node="mi" transform="translate(1869, 0)"><path data-c="65" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"/></g><g data-mml-node="mo" transform="translate(2612.8, 0)"><text data-variant="normal" transform="matrix(1 0 0 -1 0 0)" font-size="817.8px" font-family="serif">å’Œ</text></g></g></g></svg></span></span>routerçš„ä½¿ç”¨è¿˜æ˜¯æœ‰ä¸€äº›åŒºåˆ«çš„ã€‚ç”±äºä¸èƒ½ç›´æ¥ä½¿ç”¨thisï¼Œéœ€è¦å€ŸåŠ©useRouterå’ŒuseRouteæ¥åˆ›å»ºç›¸åº”çš„å®ä¾‹ã€‚</p>
<span style="float: right; color: RGBA(64, 184, 250, .5);">â</span></blockquote>
<ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; font-size: 15px; color: #595959; list-style-type: circle;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">ä¸€ä¸ªä¾‹å­</section></li></ul>
<pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px;">&lt;script&gt;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;{&nbsp;reactive&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'vue'</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;Child&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'./child'</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;{&nbsp;useRoute,&nbsp;useRouter,&nbsp;onBeforeRouteUpdate&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'vue-router'</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">export</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">default</span>&nbsp;{<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">components</span>:&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;Child,<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;beforeRouteEnter(<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>,&nbsp;to,&nbsp;next)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">console</span>.log(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'enter'</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;next();<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;setup()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;route&nbsp;=&nbsp;useRoute();<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;è·å–è·¯ç”±å®ä¾‹</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;router&nbsp;=&nbsp;useRouter();<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">console</span>.log(route.path);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">console</span>.log(router)<br>&nbsp;&nbsp;&nbsp;&nbsp;onBeforeRouteUpdate(<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;{&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #a0a1a7; font-style: italic; line-height: 26px;">//&nbsp;å½“å½“å‰è·¯ç”±å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè°ƒç”¨å›è°ƒå‡½æ•°&nbsp;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;})<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;};<br>&nbsp;&nbsp;},<br>};<br><span class="xml" style="line-height: 26px;"><span class="hljs-tag" style="line-height: 26px;">&lt;/<span class="hljs-name" style="color: #e45649; line-height: 26px;">script</span>&gt;</span></span><br></code></pre>
<blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; font-weight: 400; border-radius: 6px; color: #595959; font-style: normal; text-align: left; box-sizing: inherit; border-left: none; border: 1px solid RGBA(64, 184, 250, .4); background: RGBA(64, 184, 250, .1);"><span style="color: RGBA(64, 184, 250, .5); font-size: 34px; line-height: 1; font-weight: 700;">â</span>
<p style="padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin: 0px; line-height: 26px; color: #595959;">é™¤äº†ä¸Šé¢çš„ä½¿ç”¨ä¹‹å¤–ï¼Œå½“æˆ‘ä»¬æƒ³è¦ä½¿ç”¨routerçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ—¶ï¼Œä¹Ÿæä¾›äº†onBeforeRouteUpdateå’ŒonBeforeRouteLeaveä¸¤ä¸ªå‡½æ•°ã€‚å¦‚æœè¿˜æ˜¯æƒ³å‘ä¹‹å‰é‚£æ ·ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åƒåŸæ¥é‚£æ ·å†™ã€‚</p>
<span style="float: right; color: RGBA(64, 184, 250, .5);">â</span></blockquote>
<h4 data-tool="mdniceç¼–è¾‘å™¨" id="ä½¿ç”¨Vuex" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 18px;"><span class="prefix" style="display: none;"></span><span class="content" style="height: 16px; line-height: 16px; font-size: 16px;"><span style="background-image: url(https://my-wechat.mdnice.com/fullstack-3.png); display: inline-block; width: 16px; height: 16px; background-size: 100%; background-position: left bottom; background-repeat: no-repeat; width: 16px; height: 15px; line-height: 15px; margin-right: 6px; margin-bottom: -2px;"></span><a href="#ä½¿ç”¨Vuex" class="headerlink" title="ä½¿ç”¨Vuex"></a>ä½¿ç”¨Vuex</span><span class="suffix" style="display: none;"></span></h4>
<blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; font-weight: 400; border-radius: 6px; color: #595959; font-style: normal; text-align: left; box-sizing: inherit; border-left: none; border: 1px solid RGBA(64, 184, 250, .4); background: RGBA(64, 184, 250, .1);"><span style="color: RGBA(64, 184, 250, .5); font-size: 34px; line-height: 1; font-weight: 700;">â</span>
<p style="padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin: 0px; line-height: 26px; color: #595959;">vuexåœ¨3.0ä¸­çš„ä½¿ç”¨å’Œä¹‹å‰çš„å¤§ä½“ä¸Šå·®ä¸å¤ªå¤š</p>
<span style="float: right; color: RGBA(64, 184, 250, .5);">â</span></blockquote>
<h5 data-tool="mdniceç¼–è¾‘å™¨" id="våˆå§‹åŒ–" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content"><a href="#våˆå§‹åŒ–" class="headerlink" title="våˆå§‹åŒ–"></a>åˆå§‹åŒ–</span><span class="suffix" style="display: none;"></span></h5>
<ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; font-size: 15px; color: #595959; list-style-type: circle;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">åœ¨store/index.tsä¸­çš„å†™æ³•ä¸º</section></li></ul>
<pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;{&nbsp;createStore&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"vuex"</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">export</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">default</span>&nbsp;createStore({<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">state</span>:&nbsp;{},<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">mutations</span>:&nbsp;{},<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">actions</span>:&nbsp;{},<br>&nbsp;&nbsp;<span class="hljs-attr" style="color: #986801; line-height: 26px;">modules</span>:&nbsp;{}<br>});<br></code></pre>
<ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; font-size: 15px; color: #595959; list-style-type: circle;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">åœ¨main.jsä¸­çš„å†™æ³•</section></li></ul>
<pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;{&nbsp;createApp&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"vue"</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;App&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"./App.vue"</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;router&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"./router"</span>;<br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;store&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"./store"</span>;<br>createApp(App)<br>&nbsp;&nbsp;.use(store)<br>&nbsp;&nbsp;.use(router)<br>&nbsp;&nbsp;.mount(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">"#app"</span>);<br></code></pre>
<h5 data-tool="mdniceç¼–è¾‘å™¨" id="vsetupä¸­ä½¿ç”¨" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 16px;"><span class="prefix" style="display: none;"></span><span class="content"><a href="#vsetupä¸­ä½¿ç”¨" class="headerlink" title="vsetupä¸­ä½¿ç”¨"></a>setupä¸­ä½¿ç”¨</span><span class="suffix" style="display: none;"></span></h5>
<blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; font-weight: 400; border-radius: 6px; color: #595959; font-style: normal; text-align: left; box-sizing: inherit; border-left: none; border: 1px solid RGBA(64, 184, 250, .4); background: RGBA(64, 184, 250, .1);"><span style="color: RGBA(64, 184, 250, .5); font-size: 34px; line-height: 1; font-weight: 700;">â</span>
<p style="padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin: 0px; line-height: 26px; color: #595959;">åŒæ ·çš„ä¹Ÿæ˜¯ä½¿ç”¨ä»vuexä¸­å¼•å…¥çš„æ–¹æ³•æ¥æ“ä½œvuex</p>
<span style="float: right; color: RGBA(64, 184, 250, .5);">â</span></blockquote>
<pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px;"><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">import</span>&nbsp;{&nbsp;useStore&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">from</span>&nbsp;<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'vuex'</span><br><span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">export</span>&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">default</span>&nbsp;{<br>&nbsp;&nbsp;setup()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;store&nbsp;=&nbsp;useStore()<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">const</span>&nbsp;roleMenus&nbsp;=&nbsp;store.getters[<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'roleMenus'</span>]<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #a626a4; line-height: 26px;">return</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;roleMenus<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;}<br>}<br></code></pre>
<h4 data-tool="mdniceç¼–è¾‘å™¨" id="ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 18px;"><span class="prefix" style="display: none;"></span><span class="content" style="height: 16px; line-height: 16px; font-size: 16px;"><span style="background-image: url(https://my-wechat.mdnice.com/fullstack-3.png); display: inline-block; width: 16px; height: 16px; background-size: 100%; background-position: left bottom; background-repeat: no-repeat; width: 16px; height: 15px; line-height: 15px; margin-right: 6px; margin-bottom: -2px;"></span><a href="#ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°"></a>ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</span><span class="suffix" style="display: none;"></span></h4>
<blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; font-weight: 400; border-radius: 6px; color: #595959; font-style: normal; text-align: left; box-sizing: inherit; border-left: none; border: 1px solid RGBA(64, 184, 250, .4); background: RGBA(64, 184, 250, .1);"><span style="color: RGBA(64, 184, 250, .5); font-size: 34px; line-height: 1; font-weight: 700;">â</span>
<p style="padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin: 0px; line-height: 26px; color: #595959;">Vue3.0æ˜¯å…¼å®¹ä¸€éƒ¨åˆ†Vue2.0çš„ï¼Œæ‰€ä»¥å¯¹äºVue2.0çš„ç»„ä»¶å†™æ³•ï¼Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°å¹¶æœªå‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨çš„æ˜¯composition apiï¼Œå†™æ³•ä¸Šå°±æœ‰ä¸€äº›åŒºåˆ«äº†ï¼š</p>
<ol style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; list-style-type: decimal; font-size: 15px; color: #595959;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">å–æ¶ˆäº†beforeCreateå’Œcreatedï¼Œå…¶å®ä¹Ÿå°±æ˜¯ç”¨setupä»£æ›¿äº†è¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">å°†ç”Ÿå‘½å‘¨æœŸå‡½æ•°åç§°å˜ä¸ºon+XXXã€‚æ¯”å¦‚onMountedã€onUpdatedç­‰</section></li></ol>
<span style="float: right; color: RGBA(64, 184, 250, .5);">â</span></blockquote>
<ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; font-size: 15px; color: #595959; list-style-type: circle;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; font-size: 14px; font-weight: normal; color: #595959;">setupä¸­ä½¿ç”¨çš„ä¾‹å­</section></li></ul>
<pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #383a42; background: #fafafa; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch; letter-spacing: 0px;">setup()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;onMounted(<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">console</span>.log(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'mounted!'</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;})<br>&nbsp;&nbsp;&nbsp;&nbsp;onUpdated(<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">console</span>.log(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'updated!'</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;})<br>&nbsp;&nbsp;&nbsp;&nbsp;onUnmounted(<span class="hljs-function" style="line-height: 26px;"><span class="hljs-params" style="line-height: 26px;">()</span>&nbsp;=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="color: #c18401; line-height: 26px;">console</span>.log(<span class="hljs-string" style="color: #50a14f; line-height: 26px;">'unmounted!'</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;})<br>&nbsp;&nbsp;}<br></code></pre>
<h4 data-tool="mdniceç¼–è¾‘å™¨" id="æ€»ç»“åˆ†äº«" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 18px;"><span class="prefix" style="display: none;"></span><span class="content" style="height: 16px; line-height: 16px; font-size: 16px;"><span style="background-image: url(https://my-wechat.mdnice.com/fullstack-3.png); display: inline-block; width: 16px; height: 16px; background-size: 100%; background-position: left bottom; background-repeat: no-repeat; width: 16px; height: 15px; line-height: 15px; margin-right: 6px; margin-bottom: -2px;"></span><a href="#æ€»ç»“åˆ†äº«" class="headerlink" title="æ€»ç»“åˆ†äº«"></a>æ€»ç»“åˆ†äº«</span><span class="suffix" style="display: none;"></span></h4>
<blockquote data-tool="mdniceç¼–è¾‘å™¨" style="display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; text-size-adjust: 100%; line-height: 1.55em; font-weight: 400; border-radius: 6px; color: #595959; font-style: normal; text-align: left; box-sizing: inherit; border-left: none; border: 1px solid RGBA(64, 184, 250, .4); background: RGBA(64, 184, 250, .1);"><span style="color: RGBA(64, 184, 250, .5); font-size: 34px; line-height: 1; font-weight: 700;">â</span>
<p style="padding-top: 8px; padding-bottom: 8px; letter-spacing: 2px; font-size: 14px; word-spacing: 2px; margin: 0px; line-height: 26px; color: #595959;">
å‚è€ƒæ–‡æ¡£ï¼š
<a href="https://composition-api.vuejs.org/" style="text-decoration: none; word-wrap: break-word; color: #40B8FA; font-weight: normal; border-bottom: 1px solid #3BAAFA;">Vue Composition API</a>
<a href="https://juejin.im/post/6869521076771094536" style="text-decoration: none; word-wrap: break-word; color: #40B8FA; font-weight: normal; border-bottom: 1px solid #3BAAFA;">Vue3.0æ¥è¢­ï¼Œä½ æƒ³å­¦çš„éƒ½åœ¨è¿™é‡Œ</a></p>
<span style="float: right; color: RGBA(64, 184, 250, .5);">â</span></blockquote>
</section>

